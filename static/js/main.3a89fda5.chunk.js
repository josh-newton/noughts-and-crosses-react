(this["webpackJsonpnoughts-and-crosses"]=this["webpackJsonpnoughts-and-crosses"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(19)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(9),o=n.n(i),s=(n(15),n(1)),u=n(2),l=n(6),c=n(5),h=n(4),v=n(7);n(16),n(17),n(18);var k=function(e){return r.a.createElement("button",{className:"square",onClick:e.onClick},e.value)},d=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"renderSquare",value:function(e){var t=this;return r.a.createElement(k,{value:this.props.squares[e],onClick:function(){return t.props.onClick(e)}})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"board-row"},this.renderSquare(0),this.renderSquare(1),this.renderSquare(2)),r.a.createElement("div",{className:"board-row"},this.renderSquare(3),this.renderSquare(4),this.renderSquare(5)),r.a.createElement("div",{className:"board-row"},this.renderSquare(6),this.renderSquare(7),this.renderSquare(8)))}}]),t}(a.Component),f=n(3),p=function(){function e(t,n){Object(s.a)(this,e),this.board=t,this.counter=n,this.opponentCounter="0"===n?"X":"0",this.winningLines=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]}return Object(u.a)(e,[{key:"updateBoard",value:function(e){this.board=e}},{key:"isMoveTaken",value:function(e){return null!==this.board[e]}},{key:"isMoveTakenByAI",value:function(e){var t=this.board,n=this.counter;return t[e]===n}},{key:"isMoveTakenByOpponent",value:function(e){var t=this.board,n=this.opponentCounter;return t[e]===n}},{key:"takeCentre",value:function(){return!this.isMoveTaken(4)&&window.DEBUG&&console.log("TAKE CENTRE"),!this.isMoveTaken(4)&&String(4)}},{key:"takeCorner",value:function(){for(var e=0,t=[0,2,6,8];e<t.length;e++){var n=t[e];if(!this.isMoveTaken(n))return window.DEBUG&&console.log("TAKE CORNER: take ",n),String(n)}return!1}},{key:"takeWin",value:function(){for(var e=this.winningLines,t=0;t<e.length;t++){var n=Object(f.a)(e[t],3),a=n[0],r=n[1],i=n[2],o=this.isMoveTakenByAI(a),s=this.isMoveTakenByAI(r),u=this.isMoveTakenByAI(i);if(o&&s&&!this.isMoveTaken(i))return window.DEBUG&&console.log("TAKE WIN: take ",i),String(i);if(o&&u&&!this.isMoveTaken(r))return window.DEBUG&&console.log("TAKE WIN: take ",r),String(r);if(s&&u&&!this.isMoveTaken(a))return window.DEBUG&&console.log("TAKE WIN: take ",a),String(a)}return!1}},{key:"blockOpponent",value:function(){for(var e=this.winningLines,t=0;t<e.length;t++){var n=Object(f.a)(e[t],3),a=n[0],r=n[1],i=n[2],o=this.isMoveTakenByOpponent(a),s=this.isMoveTakenByOpponent(r),u=this.isMoveTakenByOpponent(i);if(o&&s&&!this.isMoveTaken(i))return window.DEBUG&&console.log("BLOCK: take ",i),String(i);if(o&&u&&!this.isMoveTaken(r))return window.DEBUG&&console.log("BLOCK: take ",r),String(r);if(s&&u&&!this.isMoveTaken(a))return window.DEBUG&&console.log("BLOCK: take ",a),String(a)}return!1}},{key:"blockTakingOuterMiddle",value:function(){if(this.isMoveTakenByAI(4))for(var e=0,t=[1,3,5,7];e<t.length;e++){var n=t[e];if(!this.isMoveTaken(n))return window.DEBUG&&console.log("BLOCK TAKING OUTER MIDDLE: take ",n),String(n)}return!1}},{key:"blockByTakingOppositeCorner",value:function(){for(var e=[[0,8],[2,6]],t=0;t<e.length;t++){var n=Object(f.a)(e[t],2),a=n[0],r=n[1],i=this.isMoveTakenByOpponent(a),o=this.isMoveTakenByOpponent(r),s=this.isMoveTakenByOpponent(4);if(i&&!this.isMoveTaken(r)&&!1===s)return window.DEBUG&&console.log("BLOCK TAKING CORNER: take ",r),String(r);if(o&&!this.isMoveTaken(a)&&!1===s)return window.DEBUG&&console.log("BLOCK TAKING CORNER: take ",a),String(a)}return!1}},{key:"randomMove",value:function(){for(var e,t=[],n=this.board,a=0;a<n.length;a++)this.isMoveTaken(a)||t.push(a);return e=Math.floor(Math.random()*t.length),window.DEBUG&&console.log("RANDOM MOVE: take ",t[e]),t[e]}},{key:"getNextMove",value:function(){return parseInt(this.takeWin()||this.blockOpponent()||this.takeCentre()||this.blockTakingOuterMiddle()||this.blockByTakingOppositeCorner()||this.takeCorner()||this.randomMove())}}]),e}(),y=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,[{key:"calculateWinner",value:function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],n=0;n<t.length;n++){var a=Object(f.a)(t[n],3),r=a[0],i=a[1],o=a[2];if(e[r]&&e[r]===e[i]&&e[r]===e[o])return e[r]}return null}},{key:"calculateDraw",value:function(e){var t=!0,n=!1,a=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){if(null===r.value)return!1}}catch(o){n=!0,a=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}return!0}}]),e}();window.DEBUG=!0;var g=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={history:[{squares:Array(9).fill(null)}],stepNumber:0,xIsNext:!0},n.logic=new y,n.ai=new p(n.state.history[0].squares,"0"),n.playAINextMove=n.playAINextMove.bind(Object(h.a)(n)),n}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.state.xIsNext!==t.xIsNext&&!1===this.state.xIsNext&&this.playAINextMove()}},{key:"playAINextMove",value:function(){var e=this.ai.getNextMove();this.handleMove(e)}},{key:"handleMove",value:function(e){var t=this.state.history.slice(0,this.state.stepNumber+1),n=t[t.length-1].squares.slice();this.logic.calculateWinner(n)||n[e]||(n[e]=this.state.xIsNext?"X":"0",this.setState({history:t.concat([{squares:n}]),stepNumber:t.length,xIsNext:!this.state.xIsNext}),this.ai.updateBoard(n))}},{key:"jumpTo",value:function(e){this.setState({stepNumber:e,xIsNext:e%2===0})}},{key:"render",value:function(){var e,t=this,n=this.state.history,a=n[this.state.stepNumber],i=this.logic.calculateWinner(a.squares),o=!i&&this.logic.calculateDraw(a.squares),s=n.map((function(e,n){var a=n?"Go to move #"+n:"Go to game start";return r.a.createElement("li",{key:n},r.a.createElement("button",{onClick:function(){return t.jumpTo(n)}},a))}));return e=i?"Winner: "+i:o?"Draw!":"Next player: "+(this.state.xIsNext?"X":"O"),r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"game-info"},r.a.createElement("p",null,e)),r.a.createElement("div",{className:"game-board"},r.a.createElement(d,{squares:a.squares,onClick:function(e){return t.handleMove(e)}})),r.a.createElement("div",{className:"game-history"},r.a.createElement("ol",null,s)))}}]),t}(a.Component);o.a.render(r.a.createElement(g,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.3a89fda5.chunk.js.map